# Documentation Strategy

This document defines the core strategy and principles for the Stellar PHP SDK documentation.

## Target Audience

All documentation is written for **SDK Users** - developers who want to integrate the SDK into their PHP applications.

**Who are SDK users?**
- Backend developers building Stellar integrations
- Web developers using PHP frameworks (Symfony, Laravel, plain PHP)
- Developers building payment systems, wallets, or anchor services
- Developers integrating with Stellar anchors via SEP protocols
- Developers building Soroban smart contract interactions
- AI agents assisting developers with Stellar integration

**Contributor documentation** (testing guides, architecture internals, build instructions) exists separately in CONTRIBUTING.md and is not part of the main learning path.

## Core Principles

### 1. Progressive Learning

Documentation follows a structured learning path from novice to expert:

```
Quick Start -> Getting Started -> Core Concepts -> SEP Protocols -> Soroban
```

Each step assumes knowledge from the previous step. Complexity increases naturally.

**Learning paths by use case:**
- **Wallet developers**: Quick Start -> Accounts & Keys -> Transactions -> SEP-10 -> SEP-24/SEP-6
- **Anchor developers**: Quick Start -> Accounts & Keys -> SEP-1 -> SEP-10 -> SEP-12 -> SEP-24/SEP-31
- **DeFi developers**: Quick Start -> Accounts & Keys -> Transactions -> DEX Operations -> Soroban
- **Smart contract developers**: Quick Start -> Soroban Quick Start -> Contract Interaction -> Advanced Soroban

### 2. SDK Code Only

Documentation focuses exclusively on SDK usage. Avoid:
- **Framework-specific patterns** (Symfony services, Laravel facades, dependency injection containers)
- **Internal implementation details** (XDR encoding internals, HTTP client internals)
- **Hypothetical code** (classes, methods, or patterns not in the actual SDK)
- **Infrastructure concerns** (server setup, deployment, caching layers)

**Test**: Can a developer copy-paste this code and have it work with just the SDK dependency?

### 3. Examples Over Theory

Every section must have working code examples:
- Complete, runnable examples (no undefined variables)
- Real-world use cases (not abstract demonstrations)
- Comments explain WHY, not WHAT
- Show the happy path first, edge cases in Advanced docs
- All examples must include required `use` statements

### 4. Accuracy Is Critical

All code must:
- Use actual SDK classes, methods, and properties
- Run without modifications (excluding secret keys)
- Be verified against SDK source code
- Use correct types, parameter names, and method signatures

**Verification process**: Cross-reference examples with actual SDK source files and test cases before publishing.

### 5. Conciseness Over Completeness

- Remove filler words and marketing language
- One clear example beats three redundant ones
- Link to PHPDoc/source for complete API reference (don't duplicate method signatures)
- Professional technical tone without unnecessary superlatives
- Avoid the word "comprehensive"

### 6. PHP Version Compatibility

Examples must work with PHP 8.0+:
- Use modern PHP syntax where appropriate
- Note any PHP version requirements clearly
- Use type hints consistently
- Avoid deprecated PHP features

### 7. Human-Sounding Writing

Documentation must read like it was written by a developer, not generated by AI. Apply these rules:

**Avoid AI vocabulary and patterns:**
- Don't use: "comprehensive", "robust", "seamless", "pivotal", "crucial", "leverage"
- Don't use: "serves as", "stands as", "is a testament to"
- Don't use: "Additionally", "Moreover", "Furthermore" to start sentences
- Don't use: "It's important to note that...", "It should be noted..."
- Don't use: excessive em dashes (—) for dramatic effect
- Don't use: forced groups of three ("fast, reliable, and secure")
- Don't use: vague attributions ("experts recommend", "developers often...")

**Do use:**
- Direct, specific language
- Active voice ("Send a payment" not "A payment can be sent")
- Natural sentence length variation
- Concrete examples over abstract claims
- First person when appropriate ("Here's how to..." or "You can...")
- Personality where it fits - docs can have voice

**Comments explain WHY, not WHAT:**
```php
// DON'T: This line creates a KeyPair by calling the random() method
$keypair = KeyPair::random();

// DO: Generate credentials for a new account
$keypair = KeyPair::random();
```

**Quick Start goal:** A developer should go from zero to first transaction in 15 minutes.

## Content Guidelines

### SDK Usage Documentation

**sdk-usage.md structure:**
- Organized by **use case** (not by class structure)
- Complete working examples with all variables defined
- Links to source code for full API reference
- Focus on common patterns (80% use cases)

**What to include:**
- KeyPair generation, import, signing
- Mnemonic generation and key derivation (SEP-5)
- Transaction building and submission
- All 26 Stellar operations with real use cases
- Horizon queries (accounts, transactions, effects, etc.)
- Asset operations and trustlines
- DEX operations (offers, order book)
- Streaming/SSE support
- Multi-signature workflows
- Error handling patterns

**What to exclude:**
- Method signature documentation (PHPDoc handles this)
- Hypothetical wrapper classes
- Framework integration patterns
- Custom caching or repository layers

### SEP Protocol Documentation

Each SEP protocol guide follows this structure:
1. **Overview** (what problem it solves, when to use it)
2. **Quick Example** (minimal working code)
3. **Detailed Usage** (all features with examples)
4. **Error Handling** (common errors and solutions)
5. **Related SEPs** (links to related protocols)

**Length**: 200-500 lines per SEP depending on complexity

### Soroban Documentation

Soroban documentation covers:
1. **Quick Start** (deploy and invoke a simple contract)
2. **SorobanClient Usage** (high-level API)
3. **Contract Interaction** (invoking methods, handling results)
4. **Authorization** (Soroban auth framework)
5. **Contract Bindings** (generated type-safe clients)
6. **Advanced Topics** (manual transaction building, events)

### Example File Standards

Each example file should:
- Start with a brief description of what it demonstrates
- Include all necessary `use` statements
- Use testnet for examples (with note about public net)
- Include complete error handling where appropriate
- Link to relevant Stellar documentation

**Example file template:**
```markdown
# [Feature Name]

Brief description of what this example demonstrates.

## Prerequisites
- List any setup requirements

## Example

\`\`\`php
<?php
use Soneso\StellarSDK\...;

// Complete, runnable example
\`\`\`

## Notes
- Important considerations
- Links to related documentation
```

## Quality Checklist

Before publishing or updating documentation, verify:

### Accuracy
- [ ] All class names match actual SDK
- [ ] All method names match actual SDK
- [ ] All property names match actual SDK
- [ ] All types are correct
- [ ] All examples verified against SDK source code

### Completeness
- [ ] No undefined variables in examples
- [ ] All necessary `use` statements shown
- [ ] SDK initialization code included
- [ ] Error handling appropriate for context

### Clarity
- [ ] Comments explain WHY, not WHAT
- [ ] Real-world use cases shown
- [ ] Links to related documentation
- [ ] Testnet vs Public net clearly noted

### Strategy Alignment
- [ ] Targets SDK users (not contributors)
- [ ] No framework-specific code
- [ ] No internal implementation details
- [ ] No hypothetical code
- [ ] Concise and professional tone

## Common Mistakes to Avoid

### 1. Hypothetical Code

**Wrong:**
```php
// DON'T: This class doesn't exist in the SDK
class StellarService {
    private $sdk;

    public function getBalance($accountId) {
        // Custom wrapper logic
    }
}
```

**Right:**
```php
// DO: Use actual SDK classes
$sdk = StellarSDK::getTestNetInstance();
$account = $sdk->requestAccount($accountId);
foreach ($account->getBalances() as $balance) {
    // Process balances
}
```

### 2. Framework-Specific Code

**Wrong:**
```php
// DON'T: This is Laravel-specific
class StellarController extends Controller
{
    public function __construct(private StellarSDK $sdk) {}

    public function payment(Request $request)
    {
        // ...
    }
}
```

**Right:**
```php
// DO: Show direct SDK usage
$sdk = StellarSDK::getTestNetInstance();
$account = $sdk->requestAccount($accountId);
```

### 3. Missing Use Statements

**Wrong:**
```php
// DON'T: Missing imports
$keyPair = KeyPair::random();
$transaction = (new TransactionBuilder($account))->build();
```

**Right:**
```php
// DO: Include all imports
use Soneso\StellarSDK\Crypto\KeyPair;
use Soneso\StellarSDK\TransactionBuilder;

$keyPair = KeyPair::random();
$transaction = (new TransactionBuilder($account))->build();
```

### 4. Over-Explanation

**Wrong:**
```php
// DON'T: Repeat what the code obviously does
// This line calls the random() method on the KeyPair class
// which returns a newly generated KeyPair instance with a random seed
$keyPair = KeyPair::random();
```

**Right:**
```php
// DO: Explain the purpose or context
// Generate a new keypair for account creation
$keyPair = KeyPair::random();
```

### 5. Incomplete Examples

**Wrong:**
```php
// DON'T: Undefined variables
$transaction->sign($keyPair, Network::testnet());
$response = $sdk->submitTransaction($transaction);
```

**Right:**
```php
// DO: Show complete flow
$sdk = StellarSDK::getTestNetInstance();
$sourceKeyPair = KeyPair::fromSeed("S...");
$account = $sdk->requestAccount($sourceKeyPair->getAccountId());

$transaction = (new TransactionBuilder($account))
    ->addOperation($operation)
    ->build();

$transaction->sign($sourceKeyPair, Network::testnet());
$response = $sdk->submitTransaction($transaction);
```

## Documentation Structure

```
docs/
├── README.md                    # Documentation hub with learning paths
├── quick-start.md              # 15-minute fast path to first transaction
├── getting-started.md          # Fundamentals: installation, keys, accounts
├── sdk-usage.md                # All SDK features organized by use case
├── soroban.md                  # Soroban smart contract development
├── sep/
│   ├── README.md              # SEP overview and selection guide
│   ├── sep-01.md              # stellar.toml configuration
│   ├── sep-02.md              # Federation protocol
│   ├── sep-05.md              # Mnemonic and key derivation
│   ├── sep-06.md              # Programmatic deposit/withdrawal
│   ├── sep-07.md              # URI scheme for signing
│   ├── sep-08.md              # Regulated assets
│   ├── sep-09.md              # Standard KYC fields
│   ├── sep-10.md              # Web authentication
│   ├── sep-11.md              # Transaction representation
│   ├── sep-12.md              # KYC API
│   ├── sep-23.md              # Muxed accounts and memos
│   ├── sep-24.md              # Interactive deposit/withdrawal
│   ├── sep-29.md              # Memo requirement discovery
│   ├── sep-30.md              # Account recovery
│   ├── sep-31.md              # Cross-border payments
│   ├── sep-38.md              # Anchor quotes
│   ├── sep-45.md              # Contract account authentication
│   └── sep-53.md              # Message signing and verification
└── documentation-strategy.md   # This file
```

**Root-level files (README.md, CONTRIBUTING.md):**
- README.md remains in project root as the primary entry point
- Links to docs/ for detailed documentation
- Contains quick start, installation, and feature overview

## Review Process

### For New Documentation

1. **Write** following this strategy
2. **Verify** against SDK source code
3. **Test** code examples run correctly
4. **Review** against quality checklist
5. **Cross-reference** links and navigation
6. **Publish** and update related docs

### For Existing Documentation

1. **Audit** against quality checklist
2. **Identify** violations (hypothetical code, framework code, etc.)
3. **Fix** issues systematically
4. **Verify** improvements maintain value
5. **Update** cross-references
6. **Document** changes

### Quarterly Maintenance

Every 3 months:
- Verify SDK method/class names still accurate
- Test code examples against latest SDK version
- Check for broken links
- Review new SDK features for documentation needs
- Update Stellar/SEP specification links

## Metrics for Success

Good documentation achieves:

**Quantitative:**
- Zero undefined variables in examples
- 100% accuracy (method names, class names match SDK)
- All examples include required `use` statements
- All links functional

**Qualitative:**
- Developers can copy-paste examples and they work
- AI agents can understand and use the SDK correctly
- Clear learning path from beginner to advanced
- Fast time-to-first-transaction (Quick Start goal: 15 minutes)

## Related Documents

- [Quick Start Guide](quick-start.md) - 15-minute fast path to first transaction
- [Getting Started Guide](getting-started.md) - Fundamentals
- [SDK Usage](sdk-usage.md) - Practical code patterns
- [Soroban Guide](soroban.md) - Smart contract development
- [SEP Protocols](sep/README.md) - Stellar Ecosystem Proposals

---

**Last Updated**: 2026-02-07

**Next Review**: 2026-05-07 (Quarterly maintenance)
